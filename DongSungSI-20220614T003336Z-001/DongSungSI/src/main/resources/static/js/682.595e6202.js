"use strict";(self["webpackChunkfront_end"]=self["webpackChunkfront_end"]||[]).push([[682],{7922:function(e,s,t){t.r(s),t.d(s,{default:function(){return g}});var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container mt-3"},[t("div",{staticClass:"row justify-content-md-center"},[t("div",{staticClass:"col-8"},[t("label",{staticClass:"btn btn-default p-0"},[t("input",{ref:"file",attrs:{type:"file",accept:"image/*"},on:{change:e.selectImage}})])]),t("div",{staticClass:"col-4"},[t("button",{staticClass:"btn btn-success btn-sm float-right",attrs:{disabled:!e.currentImage},on:{click:e.upload}},[e._v(" Upload ")])])]),e.currentImage?t("div",{staticClass:"progress"},[t("div",{staticClass:"progress-bar progress-bar-info",style:{width:e.progress+"%"},attrs:{role:"progressbar","aria-valuenow":e.progress,"aria-valuemin":"0","aria-valuemax":"100"}},[e._v(" "+e._s(e.progress)+"% ")])]):e._e(),e.previewImage?t("div",[t("div",[t("img",{staticClass:"preview my-3",attrs:{src:e.previewImage,alt:""}})])]):e._e(),e.message?t("div",{staticClass:"alert alert-secondary",attrs:{role:"alert"}},[e._v(" "+e._s(e.message)+" ")]):e._e(),e._l(e.imageInfo,(function(s,a){return t("div",{key:a,staticClass:"card mt-3"},[t("div",{staticClass:"card-header"},[e._v("이미지 번호 : "+e._s(s.id))]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-5 col-md-offset-0"},[t("figure",[t("img",{staticClass:"img-thumbnail",attrs:{src:s.url}})])]),t("div",{staticClass:"col-md-6 col-md-offset-0 description"},[t("p",{domProps:{innerHTML:e._s(s.name)}}),t("p",{staticClass:"price"},[e._v(e._s(s.url))])])])])}))],2)},r=[],i=t(2327);class l{upload(e,s){let t=new FormData;return t.append("file",e),i.Z.post("/upload",t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:s})}getFiles(){return i.Z.get("/files")}}var n=new l,o={name:"upload-image",data(){return{currentImage:void 0,previewImage:void 0,progress:0,message:"",imageInfo:[]}},methods:{selectImage(){this.currentImage=this.$refs.file.files.item(0),this.previewImage=URL.createObjectURL(this.currentImage),this.progress=0,this.message=""},upload(){this.progress=0,n.upload(this.currentImage,(e=>{this.progress=Math.round(100*e.loaded/e.total)})).then((e=>(this.message=e.data.message,n.getFiles()))).then((e=>{this.imageInfo=e.data})).catch((e=>{this.progress=0,this.message="Could not upload the image!"+e,this.currentImage=void 0}))}},mounted(){n.getFiles().then((e=>{this.imageInfo=e.data}))}},c=o,d=t(1001),m=(0,d.Z)(c,a,r,!1,null,null,null),g=m.exports}}]);
//# sourceMappingURL=682.595e6202.js.map